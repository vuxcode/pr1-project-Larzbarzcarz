<script>
    // starting point
    var role = prompt("Welcome to your adventure, to explore these lands. And what are you? A Wizard?, A knight?, A rouge?");
    
    // The user chooses there class
    var rpgclass = ["WIZARD", "KNIGHT", "ROUGE",];
    //solving the uppercase scenario
    var rpgclass0 = rpgclass[0];
    var rpgclass1 = rpgclass[1];
    var rpgclass2 = rpgclass[2];
    
    switch (role.toUpperCase()) {
        case rpgclass0:
            alert("Oh you are a spell slinger are you?, I wish you the best on your travels,");
            break;
        case rpgclass1:
            alert("Ah so you are a big walking tin can, let's hope that armor will defend you in combat,");
            break;
        case rpgclass2:
            alert("So you are a walking shadow, dealing with your foes with the element of surprise");
            break;
        default: 
            alert("You didn't choose one of the options, oh well.");
            break;
    }
    
    console.log(role.toUpperCase()); 
    
  // Combat Function
    // Handles the combat sequence with enemies, including randomized enemy HP, fighting, and running actions.
    function combatScenario() {
        var hp = 100;
        var enemyHp =  Math.floor(Math.random() * 50) + 20; // Random enemy HP for variety 
        
        while (hp > 0 && enemyHp > 0) {
            var action = prompt("You've encountered an enemy! What will you do? (fight/run)").toLowerCase();
            if (action === "run") {
                var escapeChance = Math.floor(Math.random() * 100) + 1;
                if (escapeChance > 30) {
                    alert("You've decided to run, and you manage to escape!<br>");
                    return; // Successfully escape
                } else {
                    alert("You tried to run, but the enemy caught up!<br>");
                }
            } else if (action === "fight") {
                var combatAction = prompt("Are you going to strike or defend?").toLowerCase();
                if (combatAction === "strike") {
                    var damage =  Math.floor(Math.random() * 20) + 1;
                    enemyHp -= damage;
                    alert("You dealt " + damage + " damage to the enemy. Enemy HP: " + enemyHp + "<br>");
                } else if (combatAction === "defend") {
                    var dodgeChance =  Math.floor(Math.random() * 100) + 1;
                    if (dodgeChance > 50) {
                        alert("You successfully dodged the attack!<br>");
                    } else {
                        var damage = Math.floor(Math.random() * 10) + 1;
                        hp -= damage;
                        alert("You failed to dodge and took " + damage + " damage! Your HP: " + hp + "<br>");
                    }
                } else {
                    alert("Invalid action. The enemy attacks you while you hesitate!<br>");
                    var damage = Math.floor(Math.random() * 10) + 1;
                    hp -= damage;
                    alert("You took " + damage + " damage! Your HP: " + hp + "<br>");
                }
            } else {
            alert("Invalid choice. You stand still, and the enemy seizes the opportunity to attack!<br>");
                var damage = Math.floor(Math.random() * 10) + 1;
                hp -= damage;
                alert("You took " + damage + " damage! Your HP: " + hp + "<br>");
            }

            // Check if combat should continue
            if (enemyHp <= 0) {
                alert("You've defeated the enemy! Congratulations!<br>");
                // Call findTreasure function after defeating the enemy
                return; // Continue the adventure after defeating the enemy
            } else if (hp <= 0) {
                alert("You've died. Try again next time!<br>");
                break;
            }
        }
    }

  // Treasure Scenario Function
    // Handles the treasure scenario, including options to loot or sneak away, with risks like traps, damage, or enemy encounters.
    function treasureScenario() {
        var choice = prompt("Do you want to loot the treasure or sneak away? (loot/sneak)").toLowerCase();
        if (choice === "loot") {
            var outcome = Math.floor(Math.random() * 100) + 1;
            if (outcome <= 20) {
                alert("As you try to loot, a trap activates and you take massive damage! You die instantly.<br>");
            } else if (outcome <= 60) {
                alert("You manage to loot some of the treasure, but you trigger a minor trap and take damage.<br>");
                var damage = Math.floor(Math.random() * 20) + 1;
                alert("You took " + damage + " damage while looting!<br>");
            } else if (outcome <= 90) {
                alert("You successfully loot the treasure without any trouble!<br>");
            } else {
                alert("As you try to loot, a group of skeletons suddenly emerges to protect their treasure!<br>");
                combatScenario();
            }
        } else if (choice === "sneak") {
            alert("You decided to sneak away quietly, leaving the treasure behind.<br>");
        } else {
            alert("Invalid choice. You hesitate, and decide to leave the treasure behind.<br>");
        }
    }

    
    
    var path = prompt("Now you are at a cross roads, which way will you go? left, right, or straight?");
    path = path.toLowerCase()
    if (path == "left") {
            alert("You've decided to take the path on the left, beware of the goblins!");}
    else if (path == "right"){
            alert("You've decided to take the path on the right, watch out for the spiders!");}
    else if (path == "straight"){
            alert("You've decided to take the path straight, don't worry the dragons are sleeping!");}
    else {
        alert("You didn't choose one of the options, oh well.");}
            
    
    
   

        var enemy = prompt("You've encountered a enemy, what will you do? run or fight,");
    
        if (enemy == "fight")
                combatScenario();

        
            
          
        
            
        if (enemy == "run"){
            var escapeChance = Math.floor(Math.random() * 100) + 1;
            if (escapeChance > 30 ){
                alert("You've decided to run, you manage to escape!");
                }
                else {
                alert ("enemy caught up!");
                combatScenario();
                }
            }
               
    
          else {
                alert("You didn't choose one of the options, oh well.");
               
             }
    // END THE FUNCTION HERE!
        //if (hp <= 0){
            //alert("You've died, try again next time!");
    
        
    
    // Direction after first combat.
    var path1 = prompt("Where are you gonna go now? left or right?")
    if (path1 == "right"){
    if (path1 == "left")
    var random = Math.random ()
    var max = 3
    var outcome = Math.floor(max*random)}
    //else(Return (path1));{
    
    
    
        if (outcome == 1);
        alert ("This is a dead end, you would have to go back")
        
    
        if (outcome == 2){
        alert ("You ran in to a room filled with goblins");
        var choice = prompt("fight or run away?")
        if (choice == "fight")
        combatScenario();
        if (choice == "run")
        
        if (outcome == 3);
        alert ("You walked in to a room filled with tresure are you gonna loot it or sneak away");}
        // a small possible combat scenario with tresure guardians
        if ("loot")
        var random = Math.random();
        var max = 100
        var suprise = Math.floor(random/max)
        if (100<=suprise);
        treasureScenario();
        if (100>=suprise);
        combatScenario();
       if("sneak")
    alert("you decided to sneak away leaving the tresure behind")
else ("You didn't choose one of the options, oh well.");


    
       
        
                        
    
    
// chapters = [1,2,3,4] with a true/false on the combat/run options


//Chapter 3

    //secound path
    var path2 = ("What direction do you wanna take now? left or right?");{
    (path2 == "left");
    (path2 == "right");
     }   
    var random = Math.random ();
    var max = 3
    var outcome = (max*random)

    var moments = (outcome == 1)
    var testing = prompt("You ran in to a group of goblins, time for another fight")
    combatScenario();
    //Combat 
 
    var moments = (outcome == 2)
    //tresure
    var goldenloot = prompt ("You found the biggest tresuure room are you gonna loot it or run away?")
    if(goldenloot == "loot")
    treasureScenario();
    //if (Chapter [1,2] =false)
    //var dragonnecklace = prompt("You find a shiny necklace in the tresure pile do you take it or not?")
    //dragonnecklace = (true)
    //if chapter [1,2] = true var lifenecklace = prompt ("you find a green glowing necklace do you take it or not?") lifenecklace = true

    //Swamp outcome
    var moments = (outcome == 3)
    var swamp = prompt("Oh no you landed in the foggy swamp crawling with foes, do you charge in or sneak past it?")
    if (swamp == "Sneak");{
        var sneak = Math.floor(Math.random()*100)
        if (sneak <=100)
        var swampfight1 = alert("You dident sneak past the swamp creatures they heard you. and they are charging you for a fight!")
    combatScenario();
    if(sneak => 50)
    var sneaking = alert("You sucessfully went past the swamp creatures")}
    if (swamp == "charge")
    var charge = Math.floor(Math.random()*200)
    if(charge => 150)
    var criticalhit = alert("Well done, Your charge did a critical hit on your foe killing them in one swipe")
    if(charge <= 150)
    var lowerchance = alert("Well you dident get lucky this time, Be ready for combat")
    combatScenario();
   

    //Chapters and true/false if its possible to be done before december 10th otherwise remove,

//Chapter 4
var path4 = prompt("you walk in to a old acient tomb that has one massive bridge that only have 2 directions right or left?")
if (path4 == "left");
if (path4 == "right")
var randomoutcomes = Math.floor();
var max = 3
var bridgeway = (randomoutcomes*max)
if (bridgeway == 1);
alert("You walked in to a dungeon filled with skeletons ready for a fight")
combatScenario();
alert("thanks for playing my game")

//what could have been done
//a pit of spikes = death, if (lifenecklace = true) = var saved ("You flash up before going that way as you survived death but your necklace vanished returning to the bridge again") (return impement)
//if (lifenecklace = false), var death = prompt("you fell in to a pit of spikes dieing instently")

if (bridgeway == 2);
var ending = alert("you went through several paths slayed several foes and finally reached your ending point, Thanks for playing my adventure")

if(bridgeway == 3);
alert("you walked in to the biggest tresure room with so much tresure")
treasureScenario();
alert("thanks for playing my game, ")










   </script>




